<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Lab 4: Unity Roll-a-Ball in VR | VR Locomotion Blog</title>
<meta name="keywords" content="Unity, VR, Lab, Mixed Reality">
<meta name="description" content="Converted Roll-a-Ball to VR: Android build setup, Meta SDK import, XR settings, scene setup, direct selection &#43; raycasting. Documented issues and what I tried.">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/posts/lab4-roll-a-ball-vr/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.css" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/lab4-roll-a-ball-vr/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script>
</head>
<body id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="VR Locomotion Blog (Alt + H)">VR Locomotion Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Lab 4: Unity Roll-a-Ball in VR
    </h1>
    <div class="post-meta"><span title='2026-01-26 00:00:00 +0000 UTC'>January 26, 2026</span>

</div>
  </header> 
  <div class="post-content"><p>Overview</p>
<p>In this lab, I converted the Roll-a-Ball project to VR. I set the project to Android, imported the Meta SDK, enabled XR, and tested interactions in VR.</p>
<hr>
<p><strong>Step 1: Create a 3D project and switch to Android platform</strong></p>
<img src="4fig01.png" width="300" />
<hr>
<p><strong>Step 2: Import Meta All-in-one SDK</strong></p>
<p>Problem: At first, I could not find tutorial examples, so I checked the README file and followed it.</p>
<img src="4fig02.png" width="400" />
<hr>
<p><strong>Step 3: Install XR Plugin Management</strong></p>
<img src="4fig03.png" width="400" />
<hr>
<p><strong>Step 4: Create a new scene</strong></p>
<img src="4fig04.png" width="400" />
<hr>
<p><strong>Step 5: Settings for controllers</strong></p>
<img src="4fig05.png" width="300" />
<hr>
<p><strong>Step 6: Setup the scene</strong></p>
<img src="4fig06.png" width="400" />
<p>One major problem I encountered was that, since I’m working on a MacBook, I couldn’t run or test the VR project directly on a Meta headset. To overcome this, I had to rely on the Meta XR Simulator for development and testing. This required configuring the project in Unity 2022, ensuring compatibility with the OpenXR plugin, and properly setting up the simulator as the active runtime. Only after completing these steps was I finally able to simulate controller and headset input on my local machine.</p>
<img src="4fig07.png" width="400" />
<hr>
<p><strong>Step 7: Add collider for Roll-a-Ball</strong></p>
<img src="4fig08.png" width="400" />
<hr>
<p><strong>Step 8: Add layers and assign them to objects</strong></p>
<p>At first, I did not understand layers clearly. Later, I realized layers are just labels for detection. The order does not matter.</p>
<img src="4fig09.png" width="300" />
<img src="4fig10.png" width="300" />
<img src="4fig11.png" width="300" />
<hr>
<p><strong>Step 9: Add collider to hand anchors and set them to the selection layer</strong></p>
<img src="4fig12.png" width="200" />
<img src="4fig13.png" width="200" />
<hr>
<p><strong>Step 10: Disable collision between ?oll-a-Ball??and ?election??layers</strong></p>
<img src="4fig14.png" width="300" />
<hr>
<p><strong>Step 11: Add Rigidbody and set different values</strong></p>
<p>Because we use trigger events, objects need Rigidbody. Hand anchors are set to Kinematic (no gravity). The ball uses gravity (not kinematic).</p>
<img src="4fig15.png" width="200" />
<img src="4fig16.png" width="200" />
<img src="4fig17.png" width="200" />
<hr>
<p><strong>Step 12: write the interaction script and assign it to the hand anchor</strong>
<img src="4fig18.png" width="400" />
<img src="4fig19.png" width="400" />
<img src="4fig20.png" width="400" /></p>
<p>In this step we wrote a script allowing the controller to pick up and release a ball in VR. When the controller enters the ball? collider and the player pulls the trigger, the ball becomes a child of the controller and follows its movement. When the trigger is released, the ball is detached, gravity is enabled again, and the ball continues moving based on the velocity of the hand.</p>
<p>Direct Selection
<img src="4fig21.png" width="300" /></p>
<hr>
<p><strong>Problems / Notes</strong></p>
<p><strong>1) PickUp objects no longer detected</strong></p>
<p>I implemented direct selection and grabbing, but the original PickUp detection stopped working. I checked colliders, trigger settings, tags, and layers, but it still did not work. Even when I created a new cube with <code>Is Trigger</code> and tag <code>PickUp</code>, nothing appeared in the console.</p>
<img src="4fig22.png" width="300" />
<p><strong>2) Raycasting issue (material / color)</strong></p>
<p>I tried to change the object color when hit by the ray, but I lost the material. In the end, I only displayed the ray and used it to move the object.</p>
<img src="4fig23.png" width="300" />
<hr>
<p><strong>Result</strong></p>
<p>The VR version can run in VR, and direct selection works (grab/release). Raycasting partially works (ray + moving object).</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/unity/">Unity</a></li>
      <li><a href="http://localhost:1313/tags/vr/">VR</a></li>
      <li><a href="http://localhost:1313/tags/lab/">Lab</a></li>
      <li><a href="http://localhost:1313/tags/mixed-reality/">Mixed Reality</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2026 <a href="http://localhost:1313/">VR Locomotion Blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
